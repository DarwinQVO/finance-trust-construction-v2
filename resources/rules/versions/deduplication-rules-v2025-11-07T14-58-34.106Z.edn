[{:id :exact-match-all-fields,
  :description "Exact match on all core fields (most strict)",
  :strategy :exact-match,
  :fields [:date :amount :merchant :bank :description],
  :priority 100,
  :confidence 1.0,
  :enabled true,
  :version "1.0.0"}
 {:id :exact-match-core-fields,
  :description "Exact match on date + amount + merchant (standard)",
  :strategy :exact-match,
  :fields [:date :amount :merchant],
  :priority 90,
  :confidence 0.98,
  :enabled true,
  :version "1.0.0"}
 {:id :exact-match-with-bank,
  :description "Exact match on date + amount + merchant + bank",
  :strategy :exact-match,
  :fields [:date :amount :merchant :bank],
  :priority 95,
  :confidence 0.99,
  :enabled true,
  :version "1.0.0"}
 {:description "SHA-256 hash match (current implementation)",
  :fields [:date :amount :merchant :bank],
  :strategy :hash-match,
  :priority 85,
  :id :exact-match-hash,
  :version "1.0.0",
  :confidence 0.98,
  :hash-algorithm :sha-256,
  :enabled true}
 {:description "Same date/merchant, amount within $0.01",
  :fields [:date :merchant],
  :strategy :fuzzy-match,
  :priority 70,
  :id :fuzzy-amount-tolerance,
  :fuzzy-fields {:amount {:tolerance 0.01, :type :absolute}},
  :version "1.0.0",
  :confidence 0.9,
  :enabled true}
 {:description
  "Same date/amount, merchant similar (Levenshtein distance <= 3)",
  :fields [:date :amount],
  :strategy :fuzzy-match,
  :priority 60,
  :id :fuzzy-merchant-levenshtein,
  :notes "Disabled by default - can cause false positives",
  :fuzzy-fields {:merchant {:tolerance 3, :type :levenshtein}},
  :version "1.0.0",
  :confidence 0.85,
  :enabled false}
 {:description "Same merchant, same amount, within 24 hours",
  :fields [:merchant :amount],
  :strategy :time-window,
  :priority 50,
  :time-window {:amount 24, :unit :hours},
  :id :same-day-same-merchant,
  :version "1.0.0",
  :confidence 0.8,
  :enabled true}
 {:description "Pending transaction followed by posted (3 day window)",
  :fields [:merchant :amount],
  :type-transition [:pending :posted],
  :strategy :time-window,
  :priority 80,
  :time-window {:amount 3, :unit :days},
  :id :pending-vs-posted,
  :notes "Common pattern: pending charge becomes posted charge",
  :version "1.0.0",
  :confidence 0.95,
  :enabled true}
 {:description
  "Refund matches charge with opposite sign (30 day window)",
  :fields [:merchant],
  :strategy :time-window,
  :priority 75,
  :time-window {:amount 30, :unit :days},
  :id :refund-detection,
  :amount-relationship :opposite-sign,
  :version "1.0.0",
  :confidence 0.9,
  :enabled true}
 {:description "Exact match across different data sources",
  :fields [:date :amount :merchant],
  :strategy :cross-source,
  :priority 65,
  :id :cross-source-exact,
  :notes "Common for credit card + bank account showing same purchase",
  :version "1.0.0",
  :confidence 0.92,
  :require-different-sources true,
  :enabled true}
 {:description "Matching transfers between accounts (opposite sign)",
  :fields [:date :amount],
  :strategy :transfer-match,
  :priority 85,
  :time-window {:amount 1, :unit :days},
  :id :transfer-matching,
  :notes
  "Transfers show as negative in source, positive in destination",
  :amount-relationship :opposite-sign,
  :version "1.0.0",
  :confidence 0.95,
  :category-hint :transfer,
  :enabled true}
 {:description
  "Stripe payout = transfer to bank (match by amount + date)",
  :target-bank [:bofa :wise],
  :fields [:date :amount],
  :source-bank :stripe,
  :strategy :bank-specific,
  :priority 70,
  :time-window {:amount 2, :unit :days},
  :id :stripe-internal-transfers,
  :version "1.0.0",
  :confidence 0.88,
  :enabled true}
 {:description "Credit card payment matches charge summary",
  :match-type :sum-of-charges,
  :target-bank [:apple-card],
  :fields [:date],
  :source-bank :bofa,
  :strategy :bank-specific,
  :priority 65,
  :time-window {:amount 5, :unit :days},
  :id :credit-card-payment-matching,
  :notes "Complex - needs aggregation logic, disabled for now",
  :version "1.0.0",
  :confidence 0.85,
  :enabled false}
 {:active-rules 13,
  :last-modified-at "2025-11-07T14:00:00Z",
  :created-by "system",
  :last-modified-by "system",
  :id :rule-metadata,
  :notes "Initial deduplication rules - covers common patterns",
  :version "1.0.0",
  :created-at "2025-11-07T14:00:00Z",
  :disabled-rules 2}]
